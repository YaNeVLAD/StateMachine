digraph MooreMachine {
    "S1" [label = "S1 / w1"]
    "S2" [label = "S2 / w1"]
    "S3" [label = "S3 / w2"]
    "S4" [label = "S4 / w2"]

    "S1" -> "S3" [label = "1"]
    "S2" -> "S1" [label = "2"]
    "S1" -> "S2" [label = "2"]
    "S2" -> "S3" [label = "1"]
    "S3" -> "S4" [label = "1"]
    "S3" -> "S2" [label = "2"]
    "S4" -> "S4" [label = "1"]
    "S4" -> "S4" [label = "2"]
}