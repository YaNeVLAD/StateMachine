digraph MooreMachine {
    rankdir = LR;
    node [shape = circle];

    "S0" [label = "S0 / w1"];
    "S1" [label = "S1 / w2"];
    "S2" [label = "S2 / w3"];
    "S3" [label = "S3 / w2"];
    "S4" [label = "S4 / w1"];

    "S0" -> "S1" [label = "1"];
    "S0" -> "S2" [label = "2"];

    "S1" -> "S4" [label = "1"];
    "S1" -> "S2" [label = "2"];

    "S2" -> "S3" [label = "1"];
    "S2" -> "S4" [label = "2"];

    "S3" -> "S0" [label = "1"];
    "S3" -> "S2" [label = "2"];

    "S4" -> "S1" [label = "1"];
    "S4" -> "S0" [label = "2"];
}